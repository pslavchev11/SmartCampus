<!DOCTYPE html>
<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout}">
<head>
    <title th:text="#{register.title}">Register</title>
</head>

<section layout:fragment="body">
    <!--
      We give the container a minimum height so that its child .row
      can center its contents vertically.
    -->
    <div class="container" style="min-height: 80vh;">
        <div class="row h-100 justify-content-center align-items-center">
            <div class="col-md-6 col-sm-12">
                <!-- If “fail” parameter was set (e.g., duplicate username/email) -->
                <div th:if="${param.fail}" class="alert alert-danger"
                     th:text="#{register.error.duplicate}">
                    Username or email already exists
                </div>

                <div class="register-form">
                    <form method="post"
                          th:action="@{/register/save}"
                          th:object="${user}"
                          role="form">
                        <div class="form-group mb-3">
                            <label th:for="username"
                                   th:text="#{register.username.label}">
                                Username
                            </label>
                            <input type="text"
                                   th:field="*{username}"
                                   class="form-control"
                                   th:placeholder="#{register.username.placeholder}" />
                            <p th:if="${#fields.hasErrors('username')}"
                               class="text-danger"
                               th:errors="*{username}">
                                Username error
                            </p>
                        </div>

                        <div class="form-group mb-3">
                            <label th:for="email"
                                   th:text="#{register.email.label}">
                                Email
                            </label>
                            <input type="text"
                                   th:field="*{email}"
                                   class="form-control"
                                   th:placeholder="#{register.email.placeholder}" />
                            <p th:if="${#fields.hasErrors('email')}"
                               class="text-danger"
                               th:errors="*{email}">
                                Email error
                            </p>
                        </div>

                        <div class="form-group mb-3">
                            <label th:for="password"
                                   th:text="#{register.password.label}">
                                Password
                            </label>
                            <input type="password"
                                   th:field="*{password}"
                                   class="form-control"
                                   th:placeholder="#{register.password.placeholder}" />
                            <p th:if="${#fields.hasErrors('password')}"
                               class="text-danger"
                               th:errors="*{password}">
                                Password error
                            </p>
                        </div>

                        <div class="form-group mb-3">
                            <label th:for="role"
                                   th:text="#{register.role.label}">
                                Role
                            </label>
                            <select class="form-control"
                                    th:field="*{role}"
                                    id="role">
                                <option value="STUDENT"
                                        th:text="#{register.role.student}">
                                    Student
                                </option>
                                <option value="TEACHER"
                                        th:text="#{register.role.teacher}">
                                    Teacher
                                </option>
                                <option value="ADMIN"
                                        th:text="#{register.role.admin}">
                                    Admin
                                </option>
                            </select>
                        </div>

                        <div class="form-group mb-3">
                            <label th:for="uniqueNumber"
                                   th:text="#{register.uniqueNumber.label}">
                                Unique Number
                            </label>
                            <input type="text"
                                   th:field="*{uniqueNumber}"
                                   class="form-control"
                                   th:placeholder="#{register.uniqueNumber.placeholder}" />
                        </div>

                        <button type="submit"
                                class="btn btn-secondary"
                                th:text="#{register.button}">
                            Register
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
</html>

